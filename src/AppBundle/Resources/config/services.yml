services:
    vacanes.auth:
        class: AppBundle\EventListener\TokenListener
        arguments:
            - @users.manager
        tags:
            - { name: kernel.event_listener, event: kernel.controller, method: onKernelController }

    users.manager:
        class: AppBundle\Model\UserManager
        arguments:
            - @doctrine.orm.entity_manager
            - AppBundle\Entity\User

    users.type:
        class: AppBundle\Form\UserType
        tags:
            - { name: form.type, alias: v_user }

    response_bag.utils:
        class: AppBundle\Utils\ResponseBag

    request.service:
        class: AppBundle\EventListener\RequestServiceListener
        arguments:
            - @doctrine.orm.entity_manager
        tags:
            - { name: kernel.event_listener, event: request.service, method: onRequestService }
